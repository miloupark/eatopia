# ğŸ½ï¸ [Eatopia](https://eatopia-alpha.vercel.app/)

> ê¸°ë³¸ ìš”êµ¬ì‚¬í•­ì€ OZ Coding Schoolì—ì„œ ì œê³µë°›ì•˜ìœ¼ë©°,  
> ë³¸ ë¦¬í¬ì§€í† ë¦¬ì—ëŠ” ê°œì¸ì ìœ¼ë¡œ ì¶”ê°€/ê°œì„ í•œ ê¸°ëŠ¥ê³¼ í•™ìŠµ ê¸°ë¡ì´ í¬í•¨ë©ë‹ˆë‹¤.

Find your flavor, your own utopia of taste.  
ë‚˜ë§Œì˜ ë§›ì§‘ì„ ë°œê²¬í•˜ê³  ê¸°ë¡í•˜ëŠ” React + TypeScript + Vite ê¸°ë°˜ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

- [Eatopia](https://eatopia-alpha.vercel.app/)

<br>

## ğŸ“– About Eatopia

> Eatopia = Eat + Utopia  
> "ëˆ„êµ¬ë‚˜ ìì‹ ë§Œì˜ ë§›ì˜ ì´ìƒí–¥ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” ê³³."

ğŸ—ºï¸ ë‚˜ë§Œì˜ ë§›ì˜ ìœ í† í”¼ì•„ë¥¼ ì°¾ì•„ê°€ëŠ” ì—¬ì •ì„ ë‹´ì€ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.  
âœğŸ¼ ì¢‹ì•„í•˜ëŠ” ë§›ì§‘ì„ íƒìƒ‰í•˜ê³ , ì €ì¥í•˜ë©° ë‚˜ë§Œì˜ ì·¨í–¥ì„ ê¸°ë¡í•´ë³´ì„¸ìš”.  
ğŸ´ í•œ ë¼ì˜ ì‹ì‚¬ê°€ í•˜ë‚˜ì˜ ì´ì•¼ê¸°ë¡œ ì´ì–´ì§€ëŠ” ê³µê°„ - Eatopiaì—ì„œ.

<br>

## ğŸ§© Learning Issues

> ê°œë°œ ì¤‘ ë°œìƒí•œ ì£¼ìš” ì´ìŠˆì™€ í•™ìŠµì„ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.  
> ìƒì„¸í•œ ë‚´ìš©ì€ ê° ì´ìŠˆ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- [ğŸ’© ì‹œí–‰ì°©ì˜¤: Express.static() ë§¤í•‘ ê²½ë¡œ ì´í•´ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ì´ë¯¸ì§€ 404 ì—ëŸ¬](https://github.com/miloupark/eatopia/issues/2)
- [ğŸ§© Axios ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„ ë° ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬](https://github.com/miloupark/eatopia/issues/3)
- [ğŸ§© ë¡œì»¬ ì„œë²„ ì—†ì´ ë°±ì—”ë“œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” êµ¬ì¡°](https://github.com/miloupark/eatopia/issues/4)
- [ğŸ’© ì‹œí–‰ì°©ì˜¤: {lat, lon} íƒ€ì… ì¶•ì†Œë¡œ ì¸í•œ Place ì†ì„± ì†Œê±° â†’ TS2339 ë°œìƒ](https://github.com/miloupark/eatopia/issues/5)

<br>

<br>

## ğŸ” API Overview

| Method   | Endpoint             | Description           |
| -------- | -------------------- | --------------------- |
| `GET`    | `/places`            | ì „ì²´ ë§›ì§‘ ë°ì´í„° ì¡°íšŒ |
| `GET`    | `/users/places`      | ì°œí•œ ë§›ì§‘ ë°ì´í„° ì¡°íšŒ |
| `POST`   | `/users/places`      | ì°œí•œ ë‚˜ë§Œì˜ ë§›ì§‘ ì¶”ê°€ |
| `DELETE` | `/users/places/{id}` | ì°œí•œ ë‚˜ë§Œì˜ ë§›ì§‘ ì‚­ì œ |

- [Backend Repo](https://github.com/miloupark/eatopia-BE)
- [Swagger UI](https://oz-coding-school.github.io/FE-pre-project-swagger-ui/)

<br>

## ğŸ§© Tech Stack Overview

| Category     | Stack        |
| ------------ | ------------ |
| Framework    | React (Vite) |
| UI / Styling | Tailwind CSS |
| Icons        | Lucide React |
| Networking   | Axios        |
| Deployment   | Vercel       |

<br>

## ğŸŒ API Client êµ¬ì¡°

> HTTP í†µì‹ ì€ Axios ì¸ìŠ¤í„´ìŠ¤ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

- ê³µí†µ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬: `src/api/axios.ts`
  - `baseURL` ë° ì „ì—­ ì„¤ì • ì •ì˜
  - ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ importí•˜ì—¬ ê³µí†µ ì‚¬ìš©

<br>

## ğŸ—‚ï¸ Structure

```plaintext
  src/
  â”œâ”€â”€ api/                   # API í˜¸ì¶œ ë° ê´€ë ¨ í•¨ìˆ˜ ê´€ë¦¬
  â”‚ â”œâ”€â”€ axios.ts             # axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  â”‚ â”œâ”€â”€ constants.ts         # ìƒìˆ˜ ì •ì˜
  â”‚ â””â”€â”€ place.ts             # /places ë§›ì§‘ ë°ì´í„° ìš”ì²­ í•¨ìˆ˜
  â”œâ”€â”€ assets/                # ì´ë¯¸ì§€, ë¡œê³ , ë°°ë„ˆ ë“± ì •ì  ìì›
  â”œâ”€â”€ components/
  â”‚ â””â”€â”€ common/              # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
  â”‚ â”‚ â”œâ”€â”€ Card.tsx           # ë§›ì§‘ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
  â”‚ â”‚ â”œâ”€â”€ Header.tsx         # ìƒë‹¨ í—¤ë” ì»´í¬ë„ŒíŠ¸
  â”‚ â”‚ â””â”€â”€ MainLayout.tsx     # ì „ì²´ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ êµ¬ì¡°
  â”œâ”€â”€ pages/                 # í˜ì´ì§€ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸
  â””â”€â”€ App.tsx                # ë£¨íŠ¸ ì§„ì… ì»´í¬ë„ŒíŠ¸

```

<br>

## ğŸ§­ ê±°ë¦¬ ê³„ì‚° ë° ì •ë ¬ (`utils/loc.ts`)

> ë‚´ ìœ„ì¹˜ ê¸°ë°˜ ê±°ë¦¬ìˆœ ì •ë ¬ ê¸°ëŠ¥  
> ì‚¬ìš©ì ìœ„ì¹˜ì™€ ë§›ì§‘ ê°„ì˜ ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ì—¬, ê°€ê¹Œìš´ ìˆœìœ¼ë¡œ ì •ë ¬í•©ë‹ˆë‹¤.

```ts
function toRad(value: number): number {
  return (value * Math.PI) / 180;
}

function calculateDistance(
  lat1: number,
  lng1: number,
  lat2: number,
  lng2: number
) {
  const R = 6371; // ì§€êµ¬ ë°˜ì§€ë¦„(km)
  const dLat = toRad(lat2 - lat1);
  const dLon = toRad(lng2 - lng1);
  const l1 = toRad(lat1);
  const l2 = toRad(lat2);

  // í•˜ë²„ì‚¬ì¸ ê³µì‹
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(l1) * Math.cos(l2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  const d = R * c;
  return d;
}

export function sortPlacesByDistance<T extends { lat: number; lon: number }>(
  places: T[],
  lat: number,
  lon: number
) {
  const sortedPlaces = [...places];
  sortedPlaces.sort((a, b) => {
    const distanceA = calculateDistance(lat, lon, a.lat, a.lon);
    const distanceB = calculateDistance(lat, lon, b.lat, b.lon);
    return distanceA - distanceB; // ê°€ê¹Œìš´ ìˆœ
  });
  return sortedPlaces;
}
```

### ë™ì‘ ì›ë¦¬

- `toRad()`
  - ìœ„ë„/ê²½ë„ëŠ” ë³´í†µ `ë„(degree)` ë‹¨ìœ„ì´ë¯€ë¡œ, ì‚¼ê°í•¨ìˆ˜ì— ì“°ê¸° ìœ„í•´ ë¼ë””ì•ˆìœ¼ë¡œ ë³€í™˜
- `calculateDistance()`:
  - ë‘ ìœ„ë„/ê²½ë„ ê°„ì˜ ëŒ€ê¶Œê±°ë¦¬ë¥¼ í•˜ë²„ì‚¬ì¸ ê³µì‹ìœ¼ë¡œ ê³„ì‚°
  - ì§€êµ¬ ë°˜ì§€ë¦„ `R=6371(km)`ì„ ê¸°ì¤€ìœ¼ë¡œ km ë‹¨ìœ„ ê²°ê³¼ ë°˜í™˜
  - ëŒ€ë¶€ë¶„ì˜ ì§€ë„ ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ ê±°ë¦¬ ê³„ì‚°ì‹
- `sortPlacesByDistance()`:
  - íŠ¹ì • ì¢Œí‘œ(ì‚¬ìš©ì ìœ„ì¹˜)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ì¥ì†Œì˜ ê±°ë¦¬ë¥¼ ê³„ì‚°
  - ê°€ê¹Œìš´ ìˆœì„œëŒ€ë¡œ ë°°ì—´ì„ ì •ë ¬í•˜ì—¬ ë°˜í™˜

<br>

## ğŸ”– Reference

ğŸ“˜ Axios & Error Handling

- [Axios ì¸ìŠ¤í„´ìŠ¤](https://axios-http.com/kr/docs/instance)
- [Axios ì—ëŸ¬ í•¸ë“¤ë§](https://axios-http.com/kr/docs/handling_errors)
- [Axios GitHub - TypeScript definitions & type guard for axios errors](https://github.com/axios/axios?tab=readme-ov-file#typescript)
- [stackoverflow - HTTP error status code in Axios](https://stackoverflow.com/questions/39153080/how-can-i-get-the-status-code-from-an-http-error-in-axios)

ğŸ“— TypeScript & Type Guard

- [íƒ€ì… ê°€ë“œ](https://radlohead.gitbook.io/typescript-deep-dive/type-system/typeguard)
- [íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ Axios Error ì²˜ë¦¬í•˜ê¸°](https://gxxrxn.github.io/axios-error-type-guard/)

ğŸ“™ Network & Error Design

- [Endpointë€?](https://rebornbb.tistory.com/entry/Web-Endpoint%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85)
- [wikidocs - HTTP ìƒíƒœ ì½”ë“œì™€ ì—ëŸ¬ ì²˜ë¦¬, ì•ˆì •ì ì¸ í†µì‹  êµ¬í˜„í•˜ê¸°](https://wikidocs.net/288120)
- [ì—ëŸ¬ & ì¶œë ¥ ë¬¸êµ¬ ìƒìˆ˜í™”](https://khs20010327.tistory.com/321)

ğŸŒ Geolocation

- [MDN - Geolocation_API](https://developer.mozilla.org/ko/docs/Web/API/Geolocation_API/Using_the_Geolocation_API#geolocation_%EA%B0%9D%EC%B2%B4)
- [MDN - GeolocationPositionError](https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError?utm_source=chatgpt.com)
- [[Javascript] Geolocation API ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°](https://velog.io/@seoyaon/Javascript-Geolocation-API-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0#1-geolocation-api-%EB%9E%80)

ğŸ—ºï¸ Kakao Map

- [Kakao Maps API](https://apis.map.kakao.com/web/guide/)
- [KaKao Developers](https://developers.kakao.com/)
- []()
- []()

ğŸ§­ Distance Sort

- [[React/Typescript] ì§€ë„ ì¤‘ì‹¬ ìœ„ì¹˜ì™€ ê°€ê¹Œìš´ ê±°ë¦¬ìˆœìœ¼ë¡œ ë°ì´í„° ì •ë ¬í•˜ê¸°](https://velog.io/@cogito/ReactTypescript-%EB%84%A4%EC%9D%B4%EB%B2%84-%EC%A7%80%EB%8F%84-API-5%ED%8E%B8-%EC%A7%80%EB%8F%84-%EC%A4%91%EC%8B%AC-%EC%9C%84%EC%B9%98%EC%99%80-%EA%B0%80%EA%B9%8C%EC%9A%B4-%EA%B1%B0%EB%A6%AC%EC%88%9C%EC%9C%BC%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0-5gcjdmvc)
- [ë¦¬ì•¡íŠ¸ì—ì„œ í•„í„°ë§ê³¼ ìƒíƒœ ê´€ë¦¬ì˜ íš¨ìœ¨ì ì¸ êµ¬í˜„ ë°©ë²•](https://f-lab.kr/insight/react-filtering-state-management-20250106)

âš™ï¸ TSConfig / ë¹Œë“œ ì„¤ì •

- [TSconfig Reference](https://www.typescriptlang.org/tsconfig/)
- [Typescript ì»´íŒŒì¼ì‹œ ì„¸ë¶€ì„¤ì • - allowJs ](https://codingapple.com/unit/typescript-tsconfig-json/)

- [Reactì—ì„œ-SVG-ì»´í¬ë„ŒíŠ¸ë¡œ-ë¶ˆëŸ¬ì˜¤ê¸°](https://fay-story.com/entry/React%EC%97%90%EC%84%9C-SVG-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A1%9C-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0-Vite-TS-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-SVG-%ED%8C%8C%EC%9D%BC-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-feat-vite-plugin-svgr#google_vignette)

- [[React] vite + tsì—ì„œ vite-plugin-svgrë¡œ svg ì‚¬ìš© ì„¤ì •](https://breathof.tistory.com/311)
